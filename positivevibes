import { useState, useEffect } from "react";
import { useSearchParams } from "next/navigation";

export default function Frame() {
  // Pobranie parametru uÅ¼ytkownika z URL (lub domyÅ›lnie ustawiamy "friend")
  const searchParams = useSearchParams();
  const userName = searchParams.get("fcUserName") || "friend";

  // Afirmacje, ktÃ³re bÄ™dziemy wyÅ›wietlaÄ‡
  const affirmations = [
    `Hello @${userName}, you're amazing! ğŸŒŸ`,
    `Hey @${userName}, you're unstoppable! ğŸ’ª`,
    `@${userName}, your kindness changes the world! ğŸŒ`,
    `You're doing great, @${userName}! Keep it up! ğŸŒˆ`,
    `@${userName}, never forget how amazing you are! ğŸ’–`,
    `@${userName}, the world is better with you in it! ğŸ’™`,
    `You're a superstar, @${userName}! Keep shining! âœ¨`,
    `@${userName}, your positivity is inspiring! ğŸ˜Š`,
    `Keep believing in yourself, @${userName}! ğŸŒŸ`,
    `@${userName}, you bring light to everyone around you! ğŸ’¡`,
    `You are strong, @${userName}, even when you donâ€™t feel like it! ğŸ’ª`,
    `@${userName}, you are deserving of all the good things in life! ğŸŒ·`,
    `Never give up, @${userName}, you are capable of incredible things! ğŸš€`,
    `The world is better because you are here, @${userName}! ğŸŒ`,
    `@${userName}, you're a beacon of hope and positivity! âœ¨`,
    `You are enough, @${userName}, just as you are! ğŸ’–`,
    `@${userName}, keep going, you're closer than you think to success! ğŸ†`,
    `@${userName}, your potential is limitless! ğŸŒŸ`,
    `@${userName}, you have the strength to overcome anything! ğŸ’ª`,
    `The universe is supporting you, @${userName}! ğŸŒ `,
    `@${userName}, your heart is pure and beautiful! ğŸ’–`,
    `You make the world a better place, @${userName}! ğŸŒ`,
    `@${userName}, your smile brightens the room! ğŸ˜Š`,
    `You are brave, @${userName}, and you can handle anything life throws at you! ğŸ¦¸â€â™‚ï¸`,
    `@${userName}, you are worthy of love and respect! ğŸ’`,
    `Believe in your dreams, @${userName}, they are worth chasing! ğŸŒ `,
    `@${userName}, today is the perfect day to take a step toward your goals! ğŸŒ`,
    `You have so much to offer, @${userName}, donâ€™t ever forget that! ğŸ’¡`,
    `@${userName}, your positivity lifts others up! ğŸ’–`,
    `You are resilient, @${userName}, and nothing can break you! ğŸ’ª`,
    `@${userName}, every small step you take brings you closer to your dreams! ğŸƒâ€â™€ï¸`,
    `You are worthy of success, @${userName}, and itâ€™s coming your way! ğŸ’«`,
    `@${userName}, you are capable of achieving anything you set your mind to! ğŸš€`,
    `Your hard work will pay off, @${userName}, keep going! ğŸ’¼`,
    `@${userName}, the world needs your light and energy! ğŸŒŸ`,
    `You have a unique and beautiful soul, @${userName}! ğŸŒ¸`,
    `@${userName}, trust yourself â€” you have everything you need to succeed! ğŸ”¥`,
    `Your efforts matter, @${userName}, and they will lead to great things! ğŸ†`,
    `@${userName}, your kindness has a ripple effect that changes the world! ğŸŒŠ`,
    `You are a force to be reckoned with, @${userName}! ğŸ’¥`,
    `@${userName}, keep being yourself â€” you are perfect just as you are! ğŸŒ¼`,
    `Your journey is unfolding beautifully, @${userName}! ğŸŒ¿`,
    `@${userName}, you are not alone â€” support and love are all around you! ğŸ¤—`,
    `You are a work of art, @${userName}, never forget how special you are! ğŸ¨`,
    `@${userName}, take a deep breath â€” youâ€™ve got this! ğŸŒ¬ï¸`,
    `You are worthy of all the good things coming your way, @${userName}! ğŸŒŸ`,
    `@${userName}, donâ€™t be afraid to shine â€” the world needs your light! âœ¨`,
    `Every day is a fresh start, @${userName}, make the most of it! ğŸŒ`,
    `@${userName}, you are an incredible human being, inside and out! ğŸ’–`,
    `Believe in yourself, @${userName}, you are capable of anything! ğŸš€`,
    `@${userName}, you are the architect of your own success! ğŸ—ï¸`,
    `Keep going, @${userName}, you are closer to your dreams than you think! ğŸ’­`,
    `@${userName}, your heart is full of love and light! ğŸŒŸ`,
    `You are a beautiful soul, @${userName}, never forget your worth! ğŸ’`,
    `@${userName}, take pride in how far youâ€™ve come â€” youâ€™re doing amazing! ğŸŒ `,
    `@${userName}, your strength and resilience inspire others every day! ğŸ’ª`,
    `You are powerful, @${userName}, and you have what it takes! âš¡`,
    `@${userName}, the world is yours â€” embrace the opportunities ahead! ğŸŒ`,
    `You are unique, @${userName}, and thatâ€™s what makes you extraordinary! ğŸŒ¸`,
    `@${userName}, keep spreading your positivity â€” the world needs more of it! ğŸŒŸ`,
    `You are worthy of all the good things that come your way, @${userName}! ğŸŒˆ`,
  ];

  // Stan do przechowywania wiadomoÅ›ci i statusu interakcji
  const [message, setMessage] = useState(`Hello @${userName}, welcome to your positive frame! ğŸ‘‹`);
  const [showButton, setShowButton] = useState(true); // Flaga do wyÅ›wietlania przycisku

  // Funkcja do losowania afirmacji po klikniÄ™ciu
  const handleClick = () => {
    const randomMessage = affirmations[Math.floor(Math.random() * affirmations.length)];
    setMessage(randomMessage);
    setShowButton(false);  // Ukryj przycisk po klikniÄ™ciu
  };

  useEffect(() => {
    // MoÅ¼emy dodaÄ‡ tu jakÄ…Å› animacjÄ™ powitania, jeÅ›li chcesz
    const timeout = setTimeout(() => {
      setMessage(`Hello @${userName}, welcome to your positive frame! ğŸ‘‹`);
    }, 2000); // PÃ³Åºniejsze powitanie po zaÅ‚adowaniu

    return () => clearTimeout(timeout); // Cleanup timeout po zakoÅ„czeniu
  }, [userName]);

  return (
    <div className="flex flex-col items-center justify-center h-screen bg-gradient-to-r from-blue-500 to-green-500 p-4 text-center text-white">
      <div className="bg-white p-6 rounded-2xl shadow-lg max-w-md">
        {/* PoczÄ…tkowa wiadomoÅ›Ä‡ */}
        <p className="text-lg font-semibold mb-4">{message}</p>
        
        {/* Przycisk do uzyskania afirmacji */}
        {showButton && (
          <button
            onClick={handleClick}
            className="bg-green-500 text-white px-4 py-2 rounded-full hover:bg-green-400 transition"
          >
            Get your affirmation ğŸ’Œ
          </button>
        )}

        <p className="text-sm mt-4 opacity-70">Thank you for using this Frame! ğŸ’™</p>
        
        {/* Informacja o twÃ³rcy */}
        <p className="text-xs mt-2 text-gray-500">Created by music-guy.eth ğŸ¶</p>
      </div>
    </div>
  );
}
